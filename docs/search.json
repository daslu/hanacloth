[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Hanamicloth",
    "section": "",
    "text": "1 Preface\nHanamicloth is a composition of Hanami data visualizations and Tablecloth datasets",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Preface</span>"
    ]
  },
  {
    "objectID": "index.html#existing-chapters-in-this-book",
    "href": "index.html#existing-chapters-in-this-book",
    "title": "Hanamicloth",
    "section": "1.1 Existing chapters in this book:",
    "text": "1.1 Existing chapters in this book:\n\nWalkthrough\n\n\nsource: notebooks/index.clj",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Preface</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html",
    "href": "hanamicloth.walkthrough.html",
    "title": "2  Walkthrough",
    "section": "",
    "text": "2.1 Setup\nHere we require Hanamicloth’s main API namepace as well as those of Hanami and Tablecloth, and also Kindly (which allows us to specify how values should be visualized).",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#setup",
    "href": "hanamicloth.walkthrough.html#setup",
    "title": "2  Walkthrough",
    "section": "",
    "text": "(ns hanamicloth.walkthrough\n  (:require [scicloj.hanamicloth.v1.api :as hanami]\n            [aerial.hanami.templates :as ht]\n            [tablecloth.api :as tc]\n            [scicloj.kindly.v4.kind :as kind]))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#some-datasets",
    "href": "hanamicloth.walkthrough.html#some-datasets",
    "title": "2  Walkthrough",
    "section": "2.2 Some datasets",
    "text": "2.2 Some datasets\nIn this walkthrough, we will used the following datasets:\n\n(defonce iris\n  (-&gt; \"https://vincentarelbundock.github.io/Rdatasets/csv/datasets/iris.csv\"\n      (tc/dataset {:key-fn keyword})\n      (tc/rename-columns {:Sepal.Length :sepal-length\n                          :Sepal.Width :sepal-width\n                          :Petal.Length :petal-length\n                          :Petal.Width :petal-width\n                          :Species :species})))\n\n\niris\n\n\nhttps://vincentarelbundock.github.io/Rdatasets/csv/datasets/iris.csv [150 6]:\n\n\n\n\n\n\n\n\n\n\n\n:rownames\n:sepal-length\n:sepal-width\n:petal-length\n:petal-width\n:species\n\n\n\n\n1\n5.1\n3.5\n1.4\n0.2\nsetosa\n\n\n2\n4.9\n3.0\n1.4\n0.2\nsetosa\n\n\n3\n4.7\n3.2\n1.3\n0.2\nsetosa\n\n\n4\n4.6\n3.1\n1.5\n0.2\nsetosa\n\n\n5\n5.0\n3.6\n1.4\n0.2\nsetosa\n\n\n6\n5.4\n3.9\n1.7\n0.4\nsetosa\n\n\n7\n4.6\n3.4\n1.4\n0.3\nsetosa\n\n\n8\n5.0\n3.4\n1.5\n0.2\nsetosa\n\n\n9\n4.4\n2.9\n1.4\n0.2\nsetosa\n\n\n10\n4.9\n3.1\n1.5\n0.1\nsetosa\n\n\n…\n…\n…\n…\n…\n…\n\n\n140\n6.9\n3.1\n5.4\n2.1\nvirginica\n\n\n141\n6.7\n3.1\n5.6\n2.4\nvirginica\n\n\n142\n6.9\n3.1\n5.1\n2.3\nvirginica\n\n\n143\n5.8\n2.7\n5.1\n1.9\nvirginica\n\n\n144\n6.8\n3.2\n5.9\n2.3\nvirginica\n\n\n145\n6.7\n3.3\n5.7\n2.5\nvirginica\n\n\n146\n6.7\n3.0\n5.2\n2.3\nvirginica\n\n\n147\n6.3\n2.5\n5.0\n1.9\nvirginica\n\n\n148\n6.5\n3.0\n5.2\n2.0\nvirginica\n\n\n149\n6.2\n3.4\n5.4\n2.3\nvirginica\n\n\n150\n5.9\n3.0\n5.1\n1.8\nvirginica\n\n\n\n\n\n(defonce mtcars\n  (-&gt; \"https://vincentarelbundock.github.io/Rdatasets/csv/datasets/mtcars.csv\"\n      (tc/dataset {:key-fn keyword})))\n\n\nmtcars\n\n\nhttps://vincentarelbundock.github.io/Rdatasets/csv/datasets/mtcars.csv [32 12]:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n:rownames\n:mpg\n:cyl\n:disp\n:hp\n:drat\n:wt\n:qsec\n:vs\n:am\n:gear\n:carb\n\n\n\n\nMazda RX4\n21.0\n6\n160.0\n110\n3.90\n2.620\n16.46\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160.0\n110\n3.90\n2.875\n17.02\n0\n1\n4\n4\n\n\nDatsun 710\n22.8\n4\n108.0\n93\n3.85\n2.320\n18.61\n1\n1\n4\n1\n\n\nHornet 4 Drive\n21.4\n6\n258.0\n110\n3.08\n3.215\n19.44\n1\n0\n3\n1\n\n\nHornet Sportabout\n18.7\n8\n360.0\n175\n3.15\n3.440\n17.02\n0\n0\n3\n2\n\n\nValiant\n18.1\n6\n225.0\n105\n2.76\n3.460\n20.22\n1\n0\n3\n1\n\n\nDuster 360\n14.3\n8\n360.0\n245\n3.21\n3.570\n15.84\n0\n0\n3\n4\n\n\nMerc 240D\n24.4\n4\n146.7\n62\n3.69\n3.190\n20.00\n1\n0\n4\n2\n\n\nMerc 230\n22.8\n4\n140.8\n95\n3.92\n3.150\n22.90\n1\n0\n4\n2\n\n\nMerc 280\n19.2\n6\n167.6\n123\n3.92\n3.440\n18.30\n1\n0\n4\n4\n\n\n…\n…\n…\n…\n…\n…\n…\n…\n…\n…\n…\n…\n\n\nDodge Challenger\n15.5\n8\n318.0\n150\n2.76\n3.520\n16.87\n0\n0\n3\n2\n\n\nAMC Javelin\n15.2\n8\n304.0\n150\n3.15\n3.435\n17.30\n0\n0\n3\n2\n\n\nCamaro Z28\n13.3\n8\n350.0\n245\n3.73\n3.840\n15.41\n0\n0\n3\n4\n\n\nPontiac Firebird\n19.2\n8\n400.0\n175\n3.08\n3.845\n17.05\n0\n0\n3\n2\n\n\nFiat X1-9\n27.3\n4\n79.0\n66\n4.08\n1.935\n18.90\n1\n1\n4\n1\n\n\nPorsche 914-2\n26.0\n4\n120.3\n91\n4.43\n2.140\n16.70\n0\n1\n5\n2\n\n\nLotus Europa\n30.4\n4\n95.1\n113\n3.77\n1.513\n16.90\n1\n1\n5\n2\n\n\nFord Pantera L\n15.8\n8\n351.0\n264\n4.22\n3.170\n14.50\n0\n1\n5\n4\n\n\nFerrari Dino\n19.7\n6\n145.0\n175\n3.62\n2.770\n15.50\n0\n1\n5\n6\n\n\nMaserati Bora\n15.0\n8\n301.0\n335\n3.54\n3.570\n14.60\n0\n1\n5\n8\n\n\nVolvo 142E\n21.4\n4\n121.0\n109\n4.11\n2.780\n18.60\n1\n1\n4\n2",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#basic-usage",
    "href": "hanamicloth.walkthrough.html#basic-usage",
    "title": "2  Walkthrough",
    "section": "2.3 Basic usage",
    "text": "2.3 Basic usage\nLet us create a scatter plot from the Iris dataset. Here we use Hanami’s original templates (ht/chart) and substitution keys (:X, :Y, :MSIZE).\n\n(-&gt; iris\n    (hanami/plot ht/point-chart\n                 {:X :sepal-width\n                  :Y :sepal-length\n                  :MSIZE 200}))\n\n\nThe resulting plot is displayed correctly, as it is annotated by Kindly.\n\n(-&gt; iris\n    (hanami/plot ht/point-chart\n                 {:X :sepal-width\n                  :Y :sepal-length\n                  :MSIZE 200})\n    meta)\n\n\n#:kindly{:kind :kind/vega-lite}\n\nThe value returned by a hanami/plot function is a Vega-Lite spec:\n\n(-&gt; iris\n    (hanami/plot ht/point-chart\n                 {:X :sepal-width\n                  :Y :sepal-length\n                  :MSIZE 200})\n    kind/pprint)\n\n\n{:encoding\n {:y {:field :sepal-length, :type \"quantitative\"},\n  :x {:field :sepal-width, :type \"quantitative\"}},\n :mark {:type \"circle\", :size 200, :tooltip true},\n :width 400,\n :background \"floralwhite\",\n :height 300,\n :data\n {:values\n  \"rownames,sepal-length,sepal-width,petal-length,petal-width,species\\n1,5.1,3.5,1.4,0.2,setosa\\n2,4.9,3.0,1.4,0.2,setosa\\n3,4.7,3.2,1.3,0.2,setosa\\n4,4.6,3.1,1.5,0.2,setosa\\n5,5.0,3.6,1.4,0.2,setosa\\n6,5.4,3.9,1.7,0.4,setosa\\n7,4.6,3.4,1.4,0.3,setosa\\n8,5.0,3.4,1.5,0.2,setosa\\n9,4.4,2.9,1.4,0.2,setosa\\n10,4.9,3.1,1.5,0.1,setosa\\n11,5.4,3.7,1.5,0.2,setosa\\n12,4.8,3.4,1.6,0.2,setosa\\n13,4.8,3.0,1.4,0.1,setosa\\n14,4.3,3.0,1.1,0.1,setosa\\n15,5.8,4.0,1.2,0.2,setosa\\n16,5.7,4.4,1.5,0.4,setosa\\n17,5.4,3.9,1.3,0.4,setosa\\n18,5.1,3.5,1.4,0.3,setosa\\n19,5.7,3.8,1.7,0.3,setosa\\n20,5.1,3.8,1.5,0.3,setosa\\n21,5.4,3.4,1.7,0.2,setosa\\n22,5.1,3.7,1.5,0.4,setosa\\n23,4.6,3.6,1.0,0.2,setosa\\n24,5.1,3.3,1.7,0.5,setosa\\n25,4.8,3.4,1.9,0.2,setosa\\n26,5.0,3.0,1.6,0.2,setosa\\n27,5.0,3.4,1.6,0.4,setosa\\n28,5.2,3.5,1.5,0.2,setosa\\n29,5.2,3.4,1.4,0.2,setosa\\n30,4.7,3.2,1.6,0.2,setosa\\n31,4.8,3.1,1.6,0.2,setosa\\n32,5.4,3.4,1.5,0.4,setosa\\n33,5.2,4.1,1.5,0.1,setosa\\n34,5.5,4.2,1.4,0.2,setosa\\n35,4.9,3.1,1.5,0.2,setosa\\n36,5.0,3.2,1.2,0.2,setosa\\n37,5.5,3.5,1.3,0.2,setosa\\n38,4.9,3.6,1.4,0.1,setosa\\n39,4.4,3.0,1.3,0.2,setosa\\n40,5.1,3.4,1.5,0.2,setosa\\n41,5.0,3.5,1.3,0.3,setosa\\n42,4.5,2.3,1.3,0.3,setosa\\n43,4.4,3.2,1.3,0.2,setosa\\n44,5.0,3.5,1.6,0.6,setosa\\n45,5.1,3.8,1.9,0.4,setosa\\n46,4.8,3.0,1.4,0.3,setosa\\n47,5.1,3.8,1.6,0.2,setosa\\n48,4.6,3.2,1.4,0.2,setosa\\n49,5.3,3.7,1.5,0.2,setosa\\n50,5.0,3.3,1.4,0.2,setosa\\n51,7.0,3.2,4.7,1.4,versicolor\\n52,6.4,3.2,4.5,1.5,versicolor\\n53,6.9,3.1,4.9,1.5,versicolor\\n54,5.5,2.3,4.0,1.3,versicolor\\n55,6.5,2.8,4.6,1.5,versicolor\\n56,5.7,2.8,4.5,1.3,versicolor\\n57,6.3,3.3,4.7,1.6,versicolor\\n58,4.9,2.4,3.3,1.0,versicolor\\n59,6.6,2.9,4.6,1.3,versicolor\\n60,5.2,2.7,3.9,1.4,versicolor\\n61,5.0,2.0,3.5,1.0,versicolor\\n62,5.9,3.0,4.2,1.5,versicolor\\n63,6.0,2.2,4.0,1.0,versicolor\\n64,6.1,2.9,4.7,1.4,versicolor\\n65,5.6,2.9,3.6,1.3,versicolor\\n66,6.7,3.1,4.4,1.4,versicolor\\n67,5.6,3.0,4.5,1.5,versicolor\\n68,5.8,2.7,4.1,1.0,versicolor\\n69,6.2,2.2,4.5,1.5,versicolor\\n70,5.6,2.5,3.9,1.1,versicolor\\n71,5.9,3.2,4.8,1.8,versicolor\\n72,6.1,2.8,4.0,1.3,versicolor\\n73,6.3,2.5,4.9,1.5,versicolor\\n74,6.1,2.8,4.7,1.2,versicolor\\n75,6.4,2.9,4.3,1.3,versicolor\\n76,6.6,3.0,4.4,1.4,versicolor\\n77,6.8,2.8,4.8,1.4,versicolor\\n78,6.7,3.0,5.0,1.7,versicolor\\n79,6.0,2.9,4.5,1.5,versicolor\\n80,5.7,2.6,3.5,1.0,versicolor\\n81,5.5,2.4,3.8,1.1,versicolor\\n82,5.5,2.4,3.7,1.0,versicolor\\n83,5.8,2.7,3.9,1.2,versicolor\\n84,6.0,2.7,5.1,1.6,versicolor\\n85,5.4,3.0,4.5,1.5,versicolor\\n86,6.0,3.4,4.5,1.6,versicolor\\n87,6.7,3.1,4.7,1.5,versicolor\\n88,6.3,2.3,4.4,1.3,versicolor\\n89,5.6,3.0,4.1,1.3,versicolor\\n90,5.5,2.5,4.0,1.3,versicolor\\n91,5.5,2.6,4.4,1.2,versicolor\\n92,6.1,3.0,4.6,1.4,versicolor\\n93,5.8,2.6,4.0,1.2,versicolor\\n94,5.0,2.3,3.3,1.0,versicolor\\n95,5.6,2.7,4.2,1.3,versicolor\\n96,5.7,3.0,4.2,1.2,versicolor\\n97,5.7,2.9,4.2,1.3,versicolor\\n98,6.2,2.9,4.3,1.3,versicolor\\n99,5.1,2.5,3.0,1.1,versicolor\\n100,5.7,2.8,4.1,1.3,versicolor\\n101,6.3,3.3,6.0,2.5,virginica\\n102,5.8,2.7,5.1,1.9,virginica\\n103,7.1,3.0,5.9,2.1,virginica\\n104,6.3,2.9,5.6,1.8,virginica\\n105,6.5,3.0,5.8,2.2,virginica\\n106,7.6,3.0,6.6,2.1,virginica\\n107,4.9,2.5,4.5,1.7,virginica\\n108,7.3,2.9,6.3,1.8,virginica\\n109,6.7,2.5,5.8,1.8,virginica\\n110,7.2,3.6,6.1,2.5,virginica\\n111,6.5,3.2,5.1,2.0,virginica\\n112,6.4,2.7,5.3,1.9,virginica\\n113,6.8,3.0,5.5,2.1,virginica\\n114,5.7,2.5,5.0,2.0,virginica\\n115,5.8,2.8,5.1,2.4,virginica\\n116,6.4,3.2,5.3,2.3,virginica\\n117,6.5,3.0,5.5,1.8,virginica\\n118,7.7,3.8,6.7,2.2,virginica\\n119,7.7,2.6,6.9,2.3,virginica\\n120,6.0,2.2,5.0,1.5,virginica\\n121,6.9,3.2,5.7,2.3,virginica\\n122,5.6,2.8,4.9,2.0,virginica\\n123,7.7,2.8,6.7,2.0,virginica\\n124,6.3,2.7,4.9,1.8,virginica\\n125,6.7,3.3,5.7,2.1,virginica\\n126,7.2,3.2,6.0,1.8,virginica\\n127,6.2,2.8,4.8,1.8,virginica\\n128,6.1,3.0,4.9,1.8,virginica\\n129,6.4,2.8,5.6,2.1,virginica\\n130,7.2,3.0,5.8,1.6,virginica\\n131,7.4,2.8,6.1,1.9,virginica\\n132,7.9,3.8,6.4,2.0,virginica\\n133,6.4,2.8,5.6,2.2,virginica\\n134,6.3,2.8,5.1,1.5,virginica\\n135,6.1,2.6,5.6,1.4,virginica\\n136,7.7,3.0,6.1,2.3,virginica\\n137,6.3,3.4,5.6,2.4,virginica\\n138,6.4,3.1,5.5,1.8,virginica\\n139,6.0,3.0,4.8,1.8,virginica\\n140,6.9,3.1,5.4,2.1,virginica\\n141,6.7,3.1,5.6,2.4,virginica\\n142,6.9,3.1,5.1,2.3,virginica\\n143,5.8,2.7,5.1,1.9,virginica\\n144,6.8,3.2,5.9,2.3,virginica\\n145,6.7,3.3,5.7,2.5,virginica\\n146,6.7,3.0,5.2,2.3,virginica\\n147,6.3,2.5,5.0,1.9,virginica\\n148,6.5,3.0,5.2,2.0,virginica\\n149,6.2,3.4,5.4,2.3,virginica\\n150,5.9,3.0,5.1,1.8,virginica\\n\",\n  :format {:type \"csv\"}}}\n\nBy looking at the :values key above, you can see that the dataset was implicitly represented as CSV.\nYou can also see that",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#using-hanamicloth-templates-defaults",
    "href": "hanamicloth.walkthrough.html#using-hanamicloth-templates-defaults",
    "title": "2  Walkthrough",
    "section": "2.4 Using Hanamicloth templates & defaults",
    "text": "2.4 Using Hanamicloth templates & defaults\nHanamicloth offers its own set of templates and substitution keys. Compared to Hanami’s original, it is similar but less sophisticated. Also, it supports the layered grammar which is demonstrated later in this document.\n\n(-&gt; iris\n    (hanami/plot hanami/point-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :mark-size 200}))\n\n\n\n(-&gt; iris\n    (hanami/plot hanami/point-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :mark-size 200})\n    kind/pprint)\n\n\n{:encoding\n {:x {:field :sepal-width, :type :quantitative},\n  :y {:field :sepal-length, :type :quantitative}},\n :usermeta {:embedOptions {:renderer :svg}},\n :mark {:type \"circle\", :size 200, :tooltip true},\n :width 400,\n :background \"floralwhite\",\n :height 300,\n :data\n {:values\n  \"rownames,sepal-length,sepal-width,petal-length,petal-width,species\\n1,5.1,3.5,1.4,0.2,setosa\\n2,4.9,3.0,1.4,0.2,setosa\\n3,4.7,3.2,1.3,0.2,setosa\\n4,4.6,3.1,1.5,0.2,setosa\\n5,5.0,3.6,1.4,0.2,setosa\\n6,5.4,3.9,1.7,0.4,setosa\\n7,4.6,3.4,1.4,0.3,setosa\\n8,5.0,3.4,1.5,0.2,setosa\\n9,4.4,2.9,1.4,0.2,setosa\\n10,4.9,3.1,1.5,0.1,setosa\\n11,5.4,3.7,1.5,0.2,setosa\\n12,4.8,3.4,1.6,0.2,setosa\\n13,4.8,3.0,1.4,0.1,setosa\\n14,4.3,3.0,1.1,0.1,setosa\\n15,5.8,4.0,1.2,0.2,setosa\\n16,5.7,4.4,1.5,0.4,setosa\\n17,5.4,3.9,1.3,0.4,setosa\\n18,5.1,3.5,1.4,0.3,setosa\\n19,5.7,3.8,1.7,0.3,setosa\\n20,5.1,3.8,1.5,0.3,setosa\\n21,5.4,3.4,1.7,0.2,setosa\\n22,5.1,3.7,1.5,0.4,setosa\\n23,4.6,3.6,1.0,0.2,setosa\\n24,5.1,3.3,1.7,0.5,setosa\\n25,4.8,3.4,1.9,0.2,setosa\\n26,5.0,3.0,1.6,0.2,setosa\\n27,5.0,3.4,1.6,0.4,setosa\\n28,5.2,3.5,1.5,0.2,setosa\\n29,5.2,3.4,1.4,0.2,setosa\\n30,4.7,3.2,1.6,0.2,setosa\\n31,4.8,3.1,1.6,0.2,setosa\\n32,5.4,3.4,1.5,0.4,setosa\\n33,5.2,4.1,1.5,0.1,setosa\\n34,5.5,4.2,1.4,0.2,setosa\\n35,4.9,3.1,1.5,0.2,setosa\\n36,5.0,3.2,1.2,0.2,setosa\\n37,5.5,3.5,1.3,0.2,setosa\\n38,4.9,3.6,1.4,0.1,setosa\\n39,4.4,3.0,1.3,0.2,setosa\\n40,5.1,3.4,1.5,0.2,setosa\\n41,5.0,3.5,1.3,0.3,setosa\\n42,4.5,2.3,1.3,0.3,setosa\\n43,4.4,3.2,1.3,0.2,setosa\\n44,5.0,3.5,1.6,0.6,setosa\\n45,5.1,3.8,1.9,0.4,setosa\\n46,4.8,3.0,1.4,0.3,setosa\\n47,5.1,3.8,1.6,0.2,setosa\\n48,4.6,3.2,1.4,0.2,setosa\\n49,5.3,3.7,1.5,0.2,setosa\\n50,5.0,3.3,1.4,0.2,setosa\\n51,7.0,3.2,4.7,1.4,versicolor\\n52,6.4,3.2,4.5,1.5,versicolor\\n53,6.9,3.1,4.9,1.5,versicolor\\n54,5.5,2.3,4.0,1.3,versicolor\\n55,6.5,2.8,4.6,1.5,versicolor\\n56,5.7,2.8,4.5,1.3,versicolor\\n57,6.3,3.3,4.7,1.6,versicolor\\n58,4.9,2.4,3.3,1.0,versicolor\\n59,6.6,2.9,4.6,1.3,versicolor\\n60,5.2,2.7,3.9,1.4,versicolor\\n61,5.0,2.0,3.5,1.0,versicolor\\n62,5.9,3.0,4.2,1.5,versicolor\\n63,6.0,2.2,4.0,1.0,versicolor\\n64,6.1,2.9,4.7,1.4,versicolor\\n65,5.6,2.9,3.6,1.3,versicolor\\n66,6.7,3.1,4.4,1.4,versicolor\\n67,5.6,3.0,4.5,1.5,versicolor\\n68,5.8,2.7,4.1,1.0,versicolor\\n69,6.2,2.2,4.5,1.5,versicolor\\n70,5.6,2.5,3.9,1.1,versicolor\\n71,5.9,3.2,4.8,1.8,versicolor\\n72,6.1,2.8,4.0,1.3,versicolor\\n73,6.3,2.5,4.9,1.5,versicolor\\n74,6.1,2.8,4.7,1.2,versicolor\\n75,6.4,2.9,4.3,1.3,versicolor\\n76,6.6,3.0,4.4,1.4,versicolor\\n77,6.8,2.8,4.8,1.4,versicolor\\n78,6.7,3.0,5.0,1.7,versicolor\\n79,6.0,2.9,4.5,1.5,versicolor\\n80,5.7,2.6,3.5,1.0,versicolor\\n81,5.5,2.4,3.8,1.1,versicolor\\n82,5.5,2.4,3.7,1.0,versicolor\\n83,5.8,2.7,3.9,1.2,versicolor\\n84,6.0,2.7,5.1,1.6,versicolor\\n85,5.4,3.0,4.5,1.5,versicolor\\n86,6.0,3.4,4.5,1.6,versicolor\\n87,6.7,3.1,4.7,1.5,versicolor\\n88,6.3,2.3,4.4,1.3,versicolor\\n89,5.6,3.0,4.1,1.3,versicolor\\n90,5.5,2.5,4.0,1.3,versicolor\\n91,5.5,2.6,4.4,1.2,versicolor\\n92,6.1,3.0,4.6,1.4,versicolor\\n93,5.8,2.6,4.0,1.2,versicolor\\n94,5.0,2.3,3.3,1.0,versicolor\\n95,5.6,2.7,4.2,1.3,versicolor\\n96,5.7,3.0,4.2,1.2,versicolor\\n97,5.7,2.9,4.2,1.3,versicolor\\n98,6.2,2.9,4.3,1.3,versicolor\\n99,5.1,2.5,3.0,1.1,versicolor\\n100,5.7,2.8,4.1,1.3,versicolor\\n101,6.3,3.3,6.0,2.5,virginica\\n102,5.8,2.7,5.1,1.9,virginica\\n103,7.1,3.0,5.9,2.1,virginica\\n104,6.3,2.9,5.6,1.8,virginica\\n105,6.5,3.0,5.8,2.2,virginica\\n106,7.6,3.0,6.6,2.1,virginica\\n107,4.9,2.5,4.5,1.7,virginica\\n108,7.3,2.9,6.3,1.8,virginica\\n109,6.7,2.5,5.8,1.8,virginica\\n110,7.2,3.6,6.1,2.5,virginica\\n111,6.5,3.2,5.1,2.0,virginica\\n112,6.4,2.7,5.3,1.9,virginica\\n113,6.8,3.0,5.5,2.1,virginica\\n114,5.7,2.5,5.0,2.0,virginica\\n115,5.8,2.8,5.1,2.4,virginica\\n116,6.4,3.2,5.3,2.3,virginica\\n117,6.5,3.0,5.5,1.8,virginica\\n118,7.7,3.8,6.7,2.2,virginica\\n119,7.7,2.6,6.9,2.3,virginica\\n120,6.0,2.2,5.0,1.5,virginica\\n121,6.9,3.2,5.7,2.3,virginica\\n122,5.6,2.8,4.9,2.0,virginica\\n123,7.7,2.8,6.7,2.0,virginica\\n124,6.3,2.7,4.9,1.8,virginica\\n125,6.7,3.3,5.7,2.1,virginica\\n126,7.2,3.2,6.0,1.8,virginica\\n127,6.2,2.8,4.8,1.8,virginica\\n128,6.1,3.0,4.9,1.8,virginica\\n129,6.4,2.8,5.6,2.1,virginica\\n130,7.2,3.0,5.8,1.6,virginica\\n131,7.4,2.8,6.1,1.9,virginica\\n132,7.9,3.8,6.4,2.0,virginica\\n133,6.4,2.8,5.6,2.2,virginica\\n134,6.3,2.8,5.1,1.5,virginica\\n135,6.1,2.6,5.6,1.4,virginica\\n136,7.7,3.0,6.1,2.3,virginica\\n137,6.3,3.4,5.6,2.4,virginica\\n138,6.4,3.1,5.5,1.8,virginica\\n139,6.0,3.0,4.8,1.8,virginica\\n140,6.9,3.1,5.4,2.1,virginica\\n141,6.7,3.1,5.6,2.4,virginica\\n142,6.9,3.1,5.1,2.3,virginica\\n143,5.8,2.7,5.1,1.9,virginica\\n144,6.8,3.2,5.9,2.3,virginica\\n145,6.7,3.3,5.7,2.5,virginica\\n146,6.7,3.0,5.2,2.3,virginica\\n147,6.3,2.5,5.0,1.9,virginica\\n148,6.5,3.0,5.2,2.0,virginica\\n149,6.2,3.4,5.4,2.3,virginica\\n150,5.9,3.0,5.1,1.8,virginica\\n\",\n  :format {:type \"csv\"}}}\n\nYou see a slight differnece in the resulting spec: it is defined to be rendered as :svg by default.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#inferring-and-overriding-field-types",
    "href": "hanamicloth.walkthrough.html#inferring-and-overriding-field-types",
    "title": "2  Walkthrough",
    "section": "2.5 Inferring and overriding field types",
    "text": "2.5 Inferring and overriding field types\nField types are inferred from the Column type. Here, for example, :x and :y are :quantitative, and :species is :nominal (and is thus coloured with distinct colours rather than a gradient).\n\n(-&gt; iris\n    (hanami/plot hanami/point-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :color :species\n                          :mark-size 200}))\n\n\nOn the other hand, in the following example, :color is :quantitative:\n\n(-&gt; mtcars\n    (hanami/plot hanami/point-chart\n                 #:hanami{:x :mpg\n                          :y :disp\n                          :color :cyl\n                          :mark-size 200}))\n\n\nThis can be overridden:\n\n(-&gt; mtcars\n    (hanami/plot hanami/point-chart\n                 #:hanami{:x :mpg\n                          :y :disp\n                          :color :cyl\n                          :color-type :nominal\n                          :mark-size 200}))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#more-examples",
    "href": "hanamicloth.walkthrough.html#more-examples",
    "title": "2  Walkthrough",
    "section": "2.6 More examples",
    "text": "2.6 More examples\n\n(-&gt; mtcars\n    (hanami/plot hanami/boxplot-chart\n                 #:hanami{:x :cyl\n                          :x-type :nominal\n                          :y :disp}))\n\n\n\n(-&gt; iris\n    (hanami/plot hanami/rule-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :x2 :petal-width\n                          :y2 :petal-length\n                          :mark-opacity 0.5\n                          :mark-size 3\n                          :color :species}))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#delayed-transformation",
    "href": "hanamicloth.walkthrough.html#delayed-transformation",
    "title": "2  Walkthrough",
    "section": "2.7 Delayed transformation",
    "text": "2.7 Delayed transformation\nInstead of the hanami/plot function, it is possible to used hanami/base:\n\n(-&gt; iris\n    (hanami/base hanami/point-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :mark-size 200}))\n\n\nThe result is displayed the same way, but the internal representation delays the Hanami transformation of templates.\nLet us compare the two:\n\n(-&gt; iris\n    (hanami/plot hanami/point-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :color :species\n                          :mark-size 200})\n    kind/pprint)\n\n\n{:encoding\n {:color {:field :species, :type :nominal},\n  :x {:field :sepal-width, :type :quantitative},\n  :y {:field :sepal-length, :type :quantitative}},\n :usermeta {:embedOptions {:renderer :svg}},\n :mark {:type \"circle\", :size 200, :tooltip true},\n :width 400,\n :background \"floralwhite\",\n :height 300,\n :data\n {:values\n  \"rownames,sepal-length,sepal-width,petal-length,petal-width,species\\n1,5.1,3.5,1.4,0.2,setosa\\n2,4.9,3.0,1.4,0.2,setosa\\n3,4.7,3.2,1.3,0.2,setosa\\n4,4.6,3.1,1.5,0.2,setosa\\n5,5.0,3.6,1.4,0.2,setosa\\n6,5.4,3.9,1.7,0.4,setosa\\n7,4.6,3.4,1.4,0.3,setosa\\n8,5.0,3.4,1.5,0.2,setosa\\n9,4.4,2.9,1.4,0.2,setosa\\n10,4.9,3.1,1.5,0.1,setosa\\n11,5.4,3.7,1.5,0.2,setosa\\n12,4.8,3.4,1.6,0.2,setosa\\n13,4.8,3.0,1.4,0.1,setosa\\n14,4.3,3.0,1.1,0.1,setosa\\n15,5.8,4.0,1.2,0.2,setosa\\n16,5.7,4.4,1.5,0.4,setosa\\n17,5.4,3.9,1.3,0.4,setosa\\n18,5.1,3.5,1.4,0.3,setosa\\n19,5.7,3.8,1.7,0.3,setosa\\n20,5.1,3.8,1.5,0.3,setosa\\n21,5.4,3.4,1.7,0.2,setosa\\n22,5.1,3.7,1.5,0.4,setosa\\n23,4.6,3.6,1.0,0.2,setosa\\n24,5.1,3.3,1.7,0.5,setosa\\n25,4.8,3.4,1.9,0.2,setosa\\n26,5.0,3.0,1.6,0.2,setosa\\n27,5.0,3.4,1.6,0.4,setosa\\n28,5.2,3.5,1.5,0.2,setosa\\n29,5.2,3.4,1.4,0.2,setosa\\n30,4.7,3.2,1.6,0.2,setosa\\n31,4.8,3.1,1.6,0.2,setosa\\n32,5.4,3.4,1.5,0.4,setosa\\n33,5.2,4.1,1.5,0.1,setosa\\n34,5.5,4.2,1.4,0.2,setosa\\n35,4.9,3.1,1.5,0.2,setosa\\n36,5.0,3.2,1.2,0.2,setosa\\n37,5.5,3.5,1.3,0.2,setosa\\n38,4.9,3.6,1.4,0.1,setosa\\n39,4.4,3.0,1.3,0.2,setosa\\n40,5.1,3.4,1.5,0.2,setosa\\n41,5.0,3.5,1.3,0.3,setosa\\n42,4.5,2.3,1.3,0.3,setosa\\n43,4.4,3.2,1.3,0.2,setosa\\n44,5.0,3.5,1.6,0.6,setosa\\n45,5.1,3.8,1.9,0.4,setosa\\n46,4.8,3.0,1.4,0.3,setosa\\n47,5.1,3.8,1.6,0.2,setosa\\n48,4.6,3.2,1.4,0.2,setosa\\n49,5.3,3.7,1.5,0.2,setosa\\n50,5.0,3.3,1.4,0.2,setosa\\n51,7.0,3.2,4.7,1.4,versicolor\\n52,6.4,3.2,4.5,1.5,versicolor\\n53,6.9,3.1,4.9,1.5,versicolor\\n54,5.5,2.3,4.0,1.3,versicolor\\n55,6.5,2.8,4.6,1.5,versicolor\\n56,5.7,2.8,4.5,1.3,versicolor\\n57,6.3,3.3,4.7,1.6,versicolor\\n58,4.9,2.4,3.3,1.0,versicolor\\n59,6.6,2.9,4.6,1.3,versicolor\\n60,5.2,2.7,3.9,1.4,versicolor\\n61,5.0,2.0,3.5,1.0,versicolor\\n62,5.9,3.0,4.2,1.5,versicolor\\n63,6.0,2.2,4.0,1.0,versicolor\\n64,6.1,2.9,4.7,1.4,versicolor\\n65,5.6,2.9,3.6,1.3,versicolor\\n66,6.7,3.1,4.4,1.4,versicolor\\n67,5.6,3.0,4.5,1.5,versicolor\\n68,5.8,2.7,4.1,1.0,versicolor\\n69,6.2,2.2,4.5,1.5,versicolor\\n70,5.6,2.5,3.9,1.1,versicolor\\n71,5.9,3.2,4.8,1.8,versicolor\\n72,6.1,2.8,4.0,1.3,versicolor\\n73,6.3,2.5,4.9,1.5,versicolor\\n74,6.1,2.8,4.7,1.2,versicolor\\n75,6.4,2.9,4.3,1.3,versicolor\\n76,6.6,3.0,4.4,1.4,versicolor\\n77,6.8,2.8,4.8,1.4,versicolor\\n78,6.7,3.0,5.0,1.7,versicolor\\n79,6.0,2.9,4.5,1.5,versicolor\\n80,5.7,2.6,3.5,1.0,versicolor\\n81,5.5,2.4,3.8,1.1,versicolor\\n82,5.5,2.4,3.7,1.0,versicolor\\n83,5.8,2.7,3.9,1.2,versicolor\\n84,6.0,2.7,5.1,1.6,versicolor\\n85,5.4,3.0,4.5,1.5,versicolor\\n86,6.0,3.4,4.5,1.6,versicolor\\n87,6.7,3.1,4.7,1.5,versicolor\\n88,6.3,2.3,4.4,1.3,versicolor\\n89,5.6,3.0,4.1,1.3,versicolor\\n90,5.5,2.5,4.0,1.3,versicolor\\n91,5.5,2.6,4.4,1.2,versicolor\\n92,6.1,3.0,4.6,1.4,versicolor\\n93,5.8,2.6,4.0,1.2,versicolor\\n94,5.0,2.3,3.3,1.0,versicolor\\n95,5.6,2.7,4.2,1.3,versicolor\\n96,5.7,3.0,4.2,1.2,versicolor\\n97,5.7,2.9,4.2,1.3,versicolor\\n98,6.2,2.9,4.3,1.3,versicolor\\n99,5.1,2.5,3.0,1.1,versicolor\\n100,5.7,2.8,4.1,1.3,versicolor\\n101,6.3,3.3,6.0,2.5,virginica\\n102,5.8,2.7,5.1,1.9,virginica\\n103,7.1,3.0,5.9,2.1,virginica\\n104,6.3,2.9,5.6,1.8,virginica\\n105,6.5,3.0,5.8,2.2,virginica\\n106,7.6,3.0,6.6,2.1,virginica\\n107,4.9,2.5,4.5,1.7,virginica\\n108,7.3,2.9,6.3,1.8,virginica\\n109,6.7,2.5,5.8,1.8,virginica\\n110,7.2,3.6,6.1,2.5,virginica\\n111,6.5,3.2,5.1,2.0,virginica\\n112,6.4,2.7,5.3,1.9,virginica\\n113,6.8,3.0,5.5,2.1,virginica\\n114,5.7,2.5,5.0,2.0,virginica\\n115,5.8,2.8,5.1,2.4,virginica\\n116,6.4,3.2,5.3,2.3,virginica\\n117,6.5,3.0,5.5,1.8,virginica\\n118,7.7,3.8,6.7,2.2,virginica\\n119,7.7,2.6,6.9,2.3,virginica\\n120,6.0,2.2,5.0,1.5,virginica\\n121,6.9,3.2,5.7,2.3,virginica\\n122,5.6,2.8,4.9,2.0,virginica\\n123,7.7,2.8,6.7,2.0,virginica\\n124,6.3,2.7,4.9,1.8,virginica\\n125,6.7,3.3,5.7,2.1,virginica\\n126,7.2,3.2,6.0,1.8,virginica\\n127,6.2,2.8,4.8,1.8,virginica\\n128,6.1,3.0,4.9,1.8,virginica\\n129,6.4,2.8,5.6,2.1,virginica\\n130,7.2,3.0,5.8,1.6,virginica\\n131,7.4,2.8,6.1,1.9,virginica\\n132,7.9,3.8,6.4,2.0,virginica\\n133,6.4,2.8,5.6,2.2,virginica\\n134,6.3,2.8,5.1,1.5,virginica\\n135,6.1,2.6,5.6,1.4,virginica\\n136,7.7,3.0,6.1,2.3,virginica\\n137,6.3,3.4,5.6,2.4,virginica\\n138,6.4,3.1,5.5,1.8,virginica\\n139,6.0,3.0,4.8,1.8,virginica\\n140,6.9,3.1,5.4,2.1,virginica\\n141,6.7,3.1,5.6,2.4,virginica\\n142,6.9,3.1,5.1,2.3,virginica\\n143,5.8,2.7,5.1,1.9,virginica\\n144,6.8,3.2,5.9,2.3,virginica\\n145,6.7,3.3,5.7,2.5,virginica\\n146,6.7,3.0,5.2,2.3,virginica\\n147,6.3,2.5,5.0,1.9,virginica\\n148,6.5,3.0,5.2,2.0,virginica\\n149,6.2,3.4,5.4,2.3,virginica\\n150,5.9,3.0,5.1,1.8,virginica\\n\",\n  :format {:type \"csv\"}}}\n\n\n(-&gt; iris\n    (hanami/base hanami/point-chart\n                 #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :color :species\n                          :mark-size 200})\n    kind/pprint)\n\n\n{:encoding :hanami/encoding,\n :usermeta :hanami/usermeta,\n :mark\n {:type \"circle\",\n  :color :hanami/mark-color,\n  :size :hanami/mark-size,\n  :opacity :hanami/mark-opacity,\n  :tooltip :hanami/mark-tooltip},\n :width :hanami/width,\n :background :hanami/background,\n :title :hanami/title,\n :layer :hanami/layer,\n :kindly/f #'scicloj.hanamicloth.v1.api/vega-lite-xform,\n :aerial.hanami.templates/defaults\n {:hanami/x-title :com.rpl.specter.impl/NONE,\n  :hanami/mark-size 200,\n  :hanami/y2-after-stat :hanami/y2,\n  :hanami/y2 :com.rpl.specter.impl/NONE,\n  :hanami/mark-opacity :com.rpl.specter.impl/NONE,\n  :hanami/y-title :com.rpl.specter.impl/NONE,\n  :hanami/x-type\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/y-type\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/x2 :com.rpl.specter.impl/NONE,\n  :hanami/dataset\n  #&lt;WrappedValue@78ef1ef6: \n    https://vincentarelbundock.github.io/Rdatasets/csv/datasets/iris.csv [150 6]:\n\n| :rownames | :sepal-length | :sepal-width | :petal-length | :petal-width |  :species |\n|----------:|--------------:|-------------:|--------------:|-------------:|-----------|\n|         1 |           5.1 |          3.5 |           1.4 |          0.2 |    setosa |\n|         2 |           4.9 |          3.0 |           1.4 |          0.2 |    setosa |\n|         3 |           4.7 |          3.2 |           1.3 |          0.2 |    setosa |\n|         4 |           4.6 |          3.1 |           1.5 |          0.2 |    setosa |\n|         5 |           5.0 |          3.6 |           1.4 |          0.2 |    setosa |\n|         6 |           5.4 |          3.9 |           1.7 |          0.4 |    setosa |\n|         7 |           4.6 |          3.4 |           1.4 |          0.3 |    setosa |\n|         8 |           5.0 |          3.4 |           1.5 |          0.2 |    setosa |\n|         9 |           4.4 |          2.9 |           1.4 |          0.2 |    setosa |\n|        10 |           4.9 |          3.1 |           1.5 |          0.1 |    setosa |\n|       ... |           ... |          ... |           ... |          ... |       ... |\n|       140 |           6.9 |          3.1 |           5.4 |          2.1 | virginica |\n|       141 |           6.7 |          3.1 |           5.6 |          2.4 | virginica |\n|       142 |           6.9 |          3.1 |           5.1 |          2.3 | virginica |\n|       143 |           5.8 |          2.7 |           5.1 |          1.9 | virginica |\n|       144 |           6.8 |          3.2 |           5.9 |          2.3 | virginica |\n|       145 |           6.7 |          3.3 |           5.7 |          2.5 | virginica |\n|       146 |           6.7 |          3.0 |           5.2 |          2.3 | virginica |\n|       147 |           6.3 |          2.5 |           5.0 |          1.9 | virginica |\n|       148 |           6.5 |          3.0 |           5.2 |          2.0 | virginica |\n|       149 |           6.2 |          3.4 |           5.4 |          2.3 | virginica |\n|       150 |           5.9 |          3.0 |           5.1 |          1.8 | virginica |\n&gt;,\n  :hanami/column :com.rpl.specter.impl/NONE,\n  :hanami/row :com.rpl.specter.impl/NONE,\n  :hanami/x2-encoding\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/color-type\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/y-bin :com.rpl.specter.impl/NONE,\n  :hanami/layer [],\n  :hanami/opacity :com.rpl.specter.impl/NONE,\n  :hanami/group\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/color :species,\n  :hanami/usermeta {:embedOptions {:renderer :hanami/renderer}},\n  :hanami/predictors [:hanami/x],\n  :hanami/mark-tooltip true,\n  :hanami/x-after-stat :hanami/x,\n  :hanami/x :sepal-width,\n  :DFMT {:type \"csv\"},\n  :hanami/x-type-after-stat\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/background \"floralwhite\",\n  :hanami/width 400,\n  :hanami/dataset-after-stat\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/csv-data\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/height 300,\n  :hanami/x2-after-stat :hanami/x2,\n  :hanami/renderer :svg,\n  :hanami/title :com.rpl.specter.impl/NONE,\n  :hanami/size-type\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/data {:values :hanami/csv-data, :format {:type \"csv\"}},\n  :hanami/size :com.rpl.specter.impl/NONE,\n  :hanami/y-type-after-stat\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/y :sepal-length,\n  :hanami/encoding\n  {:color {:field :hanami/color, :type :hanami/color-type},\n   :size {:field :hanami/size, :type :hanami/size-type},\n   :x\n   {:field :hanami/x-after-stat,\n    :type :hanami/x-type-after-stat,\n    :title :hanami/x-title,\n    :bin :hanami/x-bin},\n   :y\n   {:field :hanami/y-after-stat,\n    :type :hanami/y-type-after-stat,\n    :title :hanami/y-title,\n    :bin :hanami/y-bin},\n   :x2 :hanami/x2-encoding,\n   :y2 :hanami/y2-encoding},\n  :hanami/y2-encoding\n  #function[scicloj.hanamicloth.v1.dag/fn-with-deps-keys/fn--46609],\n  :hanami/mark-color :com.rpl.specter.impl/NONE,\n  :hanami/x-bin :com.rpl.specter.impl/NONE,\n  :hanami/y-after-stat :hanami/y,\n  :hanami/stat :com.rpl.specter.impl/NONE,\n  :VALDATA :hanami/csv-data,\n  :hanami/histogram-nbins 10,\n  :hanami/mark \"circle\"},\n :height :hanami/height,\n :data :hanami/data}\n\nThe structure returned by hanami/base is a Hanami template (with local defaults). When it is displayed, it goes through the Hanami transform to recieve the Vega-Lite spec.\nWhen we use base, we can keep processing the template in a pipeline of transformations. We will use it soon with layers.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#adding-layers",
    "href": "hanamicloth.walkthrough.html#adding-layers",
    "title": "2  Walkthrough",
    "section": "2.8 Adding layers",
    "text": "2.8 Adding layers\nA base plot does not need to have a specified chart. Instead, we may add layers:\n\n(-&gt; iris\n    (hanami/base #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :mark-size 200})\n    hanami/layer-point)\n\n\nThe substitution keys can also be specified on the layer level:\n\n(-&gt; iris\n    (hanami/base #:hanami{:x :sepal-width\n                          :y :sepal-length})\n    (hanami/layer-point #:hanami{:mark-size 200}))\n\n\nThis allows us to create aesthetic differences between layers:\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :x :sepal-width\n                          :y :sepal-length})\n    (hanami/layer-line #:hanami{:mark-size 4\n                                :mark-color \"brown\"})\n    (hanami/layer-point #:hanami{:mark-size 200}))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#updating-data",
    "href": "hanamicloth.walkthrough.html#updating-data",
    "title": "2  Walkthrough",
    "section": "2.9 Updating data",
    "text": "2.9 Updating data\nUsing hanami/update-data, we may process the dataset during the pipeline, affecting only the layers added further down the pipeline.\nThis functionality is inspired by ggbuilder and metamorph.\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :x :sepal-width\n                          :y :sepal-length})\n    (hanami/layer-line #:hanami{:mark-size 4\n                                :mark-color \"brown\"})\n    (hanami/update-data tc/random 5)\n    (hanami/layer-point #:hanami{:mark-size 200}))\n\n\nYou see, we have lots of data for the lines, but only five random points.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#processing-raw-vega-lite",
    "href": "hanamicloth.walkthrough.html#processing-raw-vega-lite",
    "title": "2  Walkthrough",
    "section": "2.10 Processing raw vega-lite",
    "text": "2.10 Processing raw vega-lite\nDuring a pipeline, we may call hanami/plot to apply the Hanami transform and realize the Vega-Lite spec.\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :x :sepal-width\n                          :y :sepal-length})\n    (hanami/layer-line #:hanami{:mark-size 4\n                                :mark-color \"brown\"})\n    (hanami/update-data tc/random 5)\n    (hanami/layer-point #:hanami{:mark-size 200})\n    hanami/plot\n    kind/pprint)\n\n\n{:encoding\n {:x {:field :sepal-width, :type :quantitative},\n  :y {:field :sepal-length, :type :quantitative}},\n :usermeta {:embedOptions {:renderer :svg}},\n :width 400,\n :background \"floralwhite\",\n :title \"dummy\",\n :layer\n [{:mark {:type \"line\", :color \"brown\", :size 4, :tooltip true},\n   :encoding\n   {:x {:field :sepal-width, :type :quantitative},\n    :y {:field :sepal-length, :type :quantitative}},\n   :data\n   {:values\n    \"rownames,sepal-length,sepal-width,petal-length,petal-width,species\\n1,5.1,3.5,1.4,0.2,setosa\\n2,4.9,3.0,1.4,0.2,setosa\\n3,4.7,3.2,1.3,0.2,setosa\\n4,4.6,3.1,1.5,0.2,setosa\\n5,5.0,3.6,1.4,0.2,setosa\\n6,5.4,3.9,1.7,0.4,setosa\\n7,4.6,3.4,1.4,0.3,setosa\\n8,5.0,3.4,1.5,0.2,setosa\\n9,4.4,2.9,1.4,0.2,setosa\\n10,4.9,3.1,1.5,0.1,setosa\\n11,5.4,3.7,1.5,0.2,setosa\\n12,4.8,3.4,1.6,0.2,setosa\\n13,4.8,3.0,1.4,0.1,setosa\\n14,4.3,3.0,1.1,0.1,setosa\\n15,5.8,4.0,1.2,0.2,setosa\\n16,5.7,4.4,1.5,0.4,setosa\\n17,5.4,3.9,1.3,0.4,setosa\\n18,5.1,3.5,1.4,0.3,setosa\\n19,5.7,3.8,1.7,0.3,setosa\\n20,5.1,3.8,1.5,0.3,setosa\\n21,5.4,3.4,1.7,0.2,setosa\\n22,5.1,3.7,1.5,0.4,setosa\\n23,4.6,3.6,1.0,0.2,setosa\\n24,5.1,3.3,1.7,0.5,setosa\\n25,4.8,3.4,1.9,0.2,setosa\\n26,5.0,3.0,1.6,0.2,setosa\\n27,5.0,3.4,1.6,0.4,setosa\\n28,5.2,3.5,1.5,0.2,setosa\\n29,5.2,3.4,1.4,0.2,setosa\\n30,4.7,3.2,1.6,0.2,setosa\\n31,4.8,3.1,1.6,0.2,setosa\\n32,5.4,3.4,1.5,0.4,setosa\\n33,5.2,4.1,1.5,0.1,setosa\\n34,5.5,4.2,1.4,0.2,setosa\\n35,4.9,3.1,1.5,0.2,setosa\\n36,5.0,3.2,1.2,0.2,setosa\\n37,5.5,3.5,1.3,0.2,setosa\\n38,4.9,3.6,1.4,0.1,setosa\\n39,4.4,3.0,1.3,0.2,setosa\\n40,5.1,3.4,1.5,0.2,setosa\\n41,5.0,3.5,1.3,0.3,setosa\\n42,4.5,2.3,1.3,0.3,setosa\\n43,4.4,3.2,1.3,0.2,setosa\\n44,5.0,3.5,1.6,0.6,setosa\\n45,5.1,3.8,1.9,0.4,setosa\\n46,4.8,3.0,1.4,0.3,setosa\\n47,5.1,3.8,1.6,0.2,setosa\\n48,4.6,3.2,1.4,0.2,setosa\\n49,5.3,3.7,1.5,0.2,setosa\\n50,5.0,3.3,1.4,0.2,setosa\\n51,7.0,3.2,4.7,1.4,versicolor\\n52,6.4,3.2,4.5,1.5,versicolor\\n53,6.9,3.1,4.9,1.5,versicolor\\n54,5.5,2.3,4.0,1.3,versicolor\\n55,6.5,2.8,4.6,1.5,versicolor\\n56,5.7,2.8,4.5,1.3,versicolor\\n57,6.3,3.3,4.7,1.6,versicolor\\n58,4.9,2.4,3.3,1.0,versicolor\\n59,6.6,2.9,4.6,1.3,versicolor\\n60,5.2,2.7,3.9,1.4,versicolor\\n61,5.0,2.0,3.5,1.0,versicolor\\n62,5.9,3.0,4.2,1.5,versicolor\\n63,6.0,2.2,4.0,1.0,versicolor\\n64,6.1,2.9,4.7,1.4,versicolor\\n65,5.6,2.9,3.6,1.3,versicolor\\n66,6.7,3.1,4.4,1.4,versicolor\\n67,5.6,3.0,4.5,1.5,versicolor\\n68,5.8,2.7,4.1,1.0,versicolor\\n69,6.2,2.2,4.5,1.5,versicolor\\n70,5.6,2.5,3.9,1.1,versicolor\\n71,5.9,3.2,4.8,1.8,versicolor\\n72,6.1,2.8,4.0,1.3,versicolor\\n73,6.3,2.5,4.9,1.5,versicolor\\n74,6.1,2.8,4.7,1.2,versicolor\\n75,6.4,2.9,4.3,1.3,versicolor\\n76,6.6,3.0,4.4,1.4,versicolor\\n77,6.8,2.8,4.8,1.4,versicolor\\n78,6.7,3.0,5.0,1.7,versicolor\\n79,6.0,2.9,4.5,1.5,versicolor\\n80,5.7,2.6,3.5,1.0,versicolor\\n81,5.5,2.4,3.8,1.1,versicolor\\n82,5.5,2.4,3.7,1.0,versicolor\\n83,5.8,2.7,3.9,1.2,versicolor\\n84,6.0,2.7,5.1,1.6,versicolor\\n85,5.4,3.0,4.5,1.5,versicolor\\n86,6.0,3.4,4.5,1.6,versicolor\\n87,6.7,3.1,4.7,1.5,versicolor\\n88,6.3,2.3,4.4,1.3,versicolor\\n89,5.6,3.0,4.1,1.3,versicolor\\n90,5.5,2.5,4.0,1.3,versicolor\\n91,5.5,2.6,4.4,1.2,versicolor\\n92,6.1,3.0,4.6,1.4,versicolor\\n93,5.8,2.6,4.0,1.2,versicolor\\n94,5.0,2.3,3.3,1.0,versicolor\\n95,5.6,2.7,4.2,1.3,versicolor\\n96,5.7,3.0,4.2,1.2,versicolor\\n97,5.7,2.9,4.2,1.3,versicolor\\n98,6.2,2.9,4.3,1.3,versicolor\\n99,5.1,2.5,3.0,1.1,versicolor\\n100,5.7,2.8,4.1,1.3,versicolor\\n101,6.3,3.3,6.0,2.5,virginica\\n102,5.8,2.7,5.1,1.9,virginica\\n103,7.1,3.0,5.9,2.1,virginica\\n104,6.3,2.9,5.6,1.8,virginica\\n105,6.5,3.0,5.8,2.2,virginica\\n106,7.6,3.0,6.6,2.1,virginica\\n107,4.9,2.5,4.5,1.7,virginica\\n108,7.3,2.9,6.3,1.8,virginica\\n109,6.7,2.5,5.8,1.8,virginica\\n110,7.2,3.6,6.1,2.5,virginica\\n111,6.5,3.2,5.1,2.0,virginica\\n112,6.4,2.7,5.3,1.9,virginica\\n113,6.8,3.0,5.5,2.1,virginica\\n114,5.7,2.5,5.0,2.0,virginica\\n115,5.8,2.8,5.1,2.4,virginica\\n116,6.4,3.2,5.3,2.3,virginica\\n117,6.5,3.0,5.5,1.8,virginica\\n118,7.7,3.8,6.7,2.2,virginica\\n119,7.7,2.6,6.9,2.3,virginica\\n120,6.0,2.2,5.0,1.5,virginica\\n121,6.9,3.2,5.7,2.3,virginica\\n122,5.6,2.8,4.9,2.0,virginica\\n123,7.7,2.8,6.7,2.0,virginica\\n124,6.3,2.7,4.9,1.8,virginica\\n125,6.7,3.3,5.7,2.1,virginica\\n126,7.2,3.2,6.0,1.8,virginica\\n127,6.2,2.8,4.8,1.8,virginica\\n128,6.1,3.0,4.9,1.8,virginica\\n129,6.4,2.8,5.6,2.1,virginica\\n130,7.2,3.0,5.8,1.6,virginica\\n131,7.4,2.8,6.1,1.9,virginica\\n132,7.9,3.8,6.4,2.0,virginica\\n133,6.4,2.8,5.6,2.2,virginica\\n134,6.3,2.8,5.1,1.5,virginica\\n135,6.1,2.6,5.6,1.4,virginica\\n136,7.7,3.0,6.1,2.3,virginica\\n137,6.3,3.4,5.6,2.4,virginica\\n138,6.4,3.1,5.5,1.8,virginica\\n139,6.0,3.0,4.8,1.8,virginica\\n140,6.9,3.1,5.4,2.1,virginica\\n141,6.7,3.1,5.6,2.4,virginica\\n142,6.9,3.1,5.1,2.3,virginica\\n143,5.8,2.7,5.1,1.9,virginica\\n144,6.8,3.2,5.9,2.3,virginica\\n145,6.7,3.3,5.7,2.5,virginica\\n146,6.7,3.0,5.2,2.3,virginica\\n147,6.3,2.5,5.0,1.9,virginica\\n148,6.5,3.0,5.2,2.0,virginica\\n149,6.2,3.4,5.4,2.3,virginica\\n150,5.9,3.0,5.1,1.8,virginica\\n\",\n    :format {:type \"csv\"}}}\n  {:mark {:type \"circle\", :color \"green\", :size 200, :tooltip true},\n   :encoding\n   {:x {:field :sepal-width, :type :quantitative},\n    :y {:field :sepal-length, :type :quantitative}},\n   :data\n   {:values\n    \"rownames,sepal-length,sepal-width,petal-length,petal-width,species\\n140,6.9,3.1,5.4,2.1,virginica\\n95,5.6,2.7,4.2,1.3,versicolor\\n85,5.4,3.0,4.5,1.5,versicolor\\n66,6.7,3.1,4.4,1.4,versicolor\\n65,5.6,2.9,3.6,1.3,versicolor\\n\",\n    :format {:type \"csv\"}}}],\n :height 300,\n :data\n {:values\n  \"rownames,sepal-length,sepal-width,petal-length,petal-width,species\\n140,6.9,3.1,5.4,2.1,virginica\\n95,5.6,2.7,4.2,1.3,versicolor\\n85,5.4,3.0,4.5,1.5,versicolor\\n66,6.7,3.1,4.4,1.4,versicolor\\n65,5.6,2.9,3.6,1.3,versicolor\\n\",\n  :format {:type \"csv\"}}}\n\nWhile this in itself does not affect the display of the plot, it allows us to keep editing it as a Vega-Lite spec. For example, let us change the backgound colour this way:\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :x :sepal-width\n                          :y :sepal-length})\n    (hanami/layer-line #:hanami{:mark-size 4\n                                :mark-color \"brown\"})\n    (hanami/update-data tc/random 5)\n    (hanami/layer-point #:hanami{:mark-size 200})\n    hanami/plot\n    (assoc :background \"lightgrey\"))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#smoothing",
    "href": "hanamicloth.walkthrough.html#smoothing",
    "title": "2  Walkthrough",
    "section": "2.11 Smoothing",
    "text": "2.11 Smoothing\nhanami/layer-smooth is a layer that applies some statistical processing to the dataset to model it as a smooth shape. It is inspired by ggplot’s geom_smooth\nAt the moment, it can only be used to model :y by linear regression. Soon we will add more ways of modelling the data.\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :x :sepal-width\n                          :y :sepal-length})\n    hanami/layer-point\n    (hanami/layer-smooth #:hanami{:mark-color \"orange\"}))\n\n\nBy default, the regression is computed with only one predictore variable, which is :x. But this can be overriden using the :predictors key. We may compute a regression with more than one predictor.\n\n(-&gt; iris\n    (hanami/base #:hanami{:x :sepal-width\n                          :y :sepal-length})\n    hanami/layer-point\n    (hanami/layer-smooth #:hanami{:predictors [:petal-width\n                                               :petal-length]}))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#grouping",
    "href": "hanamicloth.walkthrough.html#grouping",
    "title": "2  Walkthrough",
    "section": "2.12 Grouping",
    "text": "2.12 Grouping\nThe regression computed by hanami/layer-smooth is affected by the inferred grouping of the data.\nFor example, here we recieve three regression lines, each for every species.\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :color :species\n                          :x :sepal-width\n                          :y :sepal-length})\n    hanami/layer-point\n    hanami/layer-smooth)\n\n\nThis happened because the :color field was :species, which is of :nominal type.\nBut we may override this using the :group key. For example, let us avoid grouping:\n\n(-&gt; iris\n    (hanami/base #:hanami{:title \"dummy\"\n                          :mark-color \"green\"\n                          :color :species\n                          :group []\n                          :x :sepal-width\n                          :y :sepal-length})\n    hanami/layer-point\n    hanami/layer-smooth)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#example-out-of-sample-predictions",
    "href": "hanamicloth.walkthrough.html#example-out-of-sample-predictions",
    "title": "2  Walkthrough",
    "section": "2.13 Example: out-of-sample predictions",
    "text": "2.13 Example: out-of-sample predictions\nHere is a slighly more elaborate example inpired by the London Clojurians talk mentioned above. We use the same regression line for the Past and Future groups. The line is affected only by the past, since in the Future, :y is missing.\n\n(-&gt; iris\n    (tc/concat (tc/dataset {:sepal-width (range 4 10)\n                            :sepal-length (repeat 6 nil)}))\n    (tc/map-columns :relative-time\n                    [:sepal-length]\n                    #(if % \"Past\" \"Future\"))\n    (hanami/base #:hanami{:x :sepal-width\n                          :y :sepal-length\n                          :color \"relative-time\"\n                          :group []})\n    hanami/layer-point\n    hanami/layer-smooth)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  },
  {
    "objectID": "hanamicloth.walkthrough.html#histograms",
    "href": "hanamicloth.walkthrough.html#histograms",
    "title": "2  Walkthrough",
    "section": "2.14 Histograms",
    "text": "2.14 Histograms\nHistograms can also be represented as layers with statistical processing:\n\n(-&gt; iris\n    (hanami/layer-histogram #:hanami{:x :sepal-width}))\n\n\n\n(-&gt; iris\n    (hanami/layer-histogram #:hanami{:x :sepal-width\n                                     :histogram-nbins 30}))\n\n\n\nsource: notebooks/hanamicloth/walkthrough.clj",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Walkthrough</span>"
    ]
  }
]